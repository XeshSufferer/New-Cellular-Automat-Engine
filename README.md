# New-Cellular-Automat-Engine

## Описание

Данный проект реализует движок для одномерных клеточных автоматов с поддержкой пользовательских правил. Вы можете использовать встроенные правила (Rule22, Rule30, Rule110) или создавать свои собственные в формате JSON.

## Быстрый старт

1. **Клонируйте репозиторий:**
   ```
   git clone https://github.com/XeshSufferer/New-Cellular-Automat-Engine.git
   ```

2. **Откройте проект в Visual Studio или другой IDE с поддержкой C#.**

3. **Настройте параметры:**
   - Измените файл `settings.json` для задания параметров симуляции (размер карты, количество поколений, используемое правило и т.д.).

4. **Добавьте или измените правила:**
   - Для пользовательских правил используйте папку `CustomRules/` и формат файла, описанный ниже.

5. **Соберите и запустите проект:**
   - В Visual Studio: нажмите F5 или выберите "Запуск".
   - В командной строке:
     ```
     dotnet run
     ```
   - Скачайте версию из Releases и запустите .exe файл

6. **Результаты:**
   - Результаты симуляции будут выведены в консоль.

## Структура проекта

- `Cell.cs` — описание клетки.
- `Map.cs`, `MapRegenerator.cs` — логика карты и генерации поколений.
- `Rule.cs`, `Rule22.cs`, `Rule30.cs`, `Rule110.cs`, `CustomJsonRule.cs` — реализация правил.
- `CustomRulesReader.cs` — чтение пользовательских правил из JSON.
- `Settings.cs`, `SettingsReader.cs`, `settings.json` — работа с настройками.
- `Writer.cs` — вывод результатов.
- `ExamplesFactory.cs`, `Examples.cs` — система ускоренного прототипирование правил клеточного автомата Examples.

## Как создать пользовательское правило в формате JSON

1. **Создайте файл в папке `CustomRules/`**  
   Например: `MyRule.json`

2. **Структура файла**  
   Пример содержимого:
   ```json
   {
     "Name": "MyRule",
     "WritedConditions": [
       "001",
       "010",
       "100"
     ]
   }
   ```
   - `Name` — уникальное имя правила (строка).
   - `WritedConditions` — массив строк, каждая строка — это комбинация состояний соседей и самой клетки (например, `"001"` означает: левый — 0, центр — 0, правый — 1).  
     Если условие выполняется, клетка становится живой.

3. **Укажите правило в настройках**  
   В файле `settings.json`:
   ```json
   {
     // ... другие параметры ...
     "JsonMode": true,
     "JsonRule": "MyRule"
   }
   ```
   - `"JsonMode": true` — включает использование пользовательских правил но стандартные встроенные правила будут проигнорированы.
   - `"JsonRule": "MyRule"` — имя вашего правила (должно совпадать с полем `Name` в JSON).

4. **Запустите проект**  
   Программа автоматически загрузит и применит ваше правило.

**Примечания:**
- Формат условия `"001"` соответствует шаблону: левый, центр, правый (0 — мёртв, 1 — жив).
- Если ни одно условие не выполнено, клетка остаётся/становится мёртвой.
- Для примера смотрите файл `CustomRules/ExampleRule.json`.
- Если установить значение Delay в -1 то следующая симуляция будет запущена по нажатию кнопки.
- Если установить значение GenerationCount в -1 генерация будет продолжаться бесконечно (в пределах установленного поля).

## Требования

- .NET Core SDK 8.0 или выше в случае запуска .exe файла из Releases
- .NET Core SDK 6.0 или выше в случае запуска из IDE 

## Лицензия

Проект распространяется под лицензией MIT.

